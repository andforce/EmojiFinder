# EmojiFinder

æ— è®ºä½ æ˜¯å‰ç«¯ã€åç«¯è¿˜æ˜¯å®¢æˆ·ç«¯å¼€å‘ï¼Œæ–‡å­—å¤„ç†éƒ¨åˆ†å‡ ä¹éƒ½ä¼šé‡åˆ°ï¼Œè€Œ`emoji`åˆæ˜¯ä¸€ä¸ªå¾ˆè®©äººå¤´ç–¼çš„é—®é¢˜ã€‚

åŸå› åœ¨äºï¼š

1.æœ‰éƒ¨åˆ†ç½‘ç«™çš„åç«¯æ•°æ®åº“æ— æ³•å­˜å‚¨emojiè¡¨æƒ…

2.æœ‰éƒ¨åˆ†å‰ç«¯æµè§ˆå™¨å•¥çš„æ— æ³•æ­£å¸¸æ˜¾ç¤ºemojiè¡¨æƒ…

3.éƒ¨åˆ†å®¢æˆ·ç«¯é€»è¾‘éœ€è¦ç‰¹æ®Šå¤„ç†emoji

å› æ­¤é’ˆå¯¹ä¸Šè¿°çš„é—®é¢˜ï¼Œæ— è®ºä½ é‡‡å–ä»€ä¹ˆæ–¹å¼å¤„ç†ï¼Œé¦–å…ˆæ‰¾åˆ°emojiæ˜¯ç¬¬ä¸€æ­¥ï¼Œå¦åˆ™æ ¹æœ¬æ— æ³•è¿›è¡Œä¸‹ä¸€æ­¥çš„åŠ¨ä½œã€‚


## å…ˆè®¤è¯†Emoji

æ€»ä½“æ¥çœ‹ï¼ŒemojiæŒ‰ç…§å…¶é•¿åº¦åˆ†ç±»ï¼Œæ€»å…±åˆ†äº†11ç±»ï¼ˆ1ã€2ã€3ã€4ã€5ã€6ã€7ã€8ã€10ã€11ã€14ï¼‰ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆemojiå¤„ç†å›°éš¾çš„åŸå› ã€‚

ä¸‹é¢è¿™äº›ï¼Œæˆ‘æ¯ä¸ªé•¿åº¦é€‰æ‹©äº†ä¸€ä¸ªå±•ç¤ºï¼Œå‰é¢æ˜¯å¯¹åº”çš„unicode
```
\u2764		[â¤]		1
\u23ED\uFE0F		[â­ï¸]		2
\uD83D\uDEF3\uFE0F		[ğŸ›³ï¸]		3
\uD83E\uDDDF\u200D\u2642		[ğŸ§Ÿâ€â™‚]		4
\u26F9\uD83C\uDFFB\u200D\u2642		[â›¹ğŸ»â€â™‚]		5
\uD83E\uDDDD\uD83C\uDFFF\u200D\u2642		[ğŸ§ğŸ¿â€â™‚]		6
\uD83E\uDDDD\uD83C\uDFFF\u200D\u2642\uFE0F		[ğŸ§ğŸ¿â€â™‚ï¸]		7
\uD83D\uDC68\u200D\uD83D\uDC67\u200D\uD83D\uDC66		[ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦]		8
\uD83D\uDC69\u200D\u2764\u200D\uD83D\uDC8B\u200D\uD83D\uDC68		[ğŸ‘©â€â¤â€ğŸ’‹â€ğŸ‘¨]		10
\uD83D\uDC68\u200D\uD83D\uDC68\u200D\uD83D\uDC66\u200D\uD83D\uDC66		[ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦â€ğŸ‘¦]		11
\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67\uDB40\uDC7F		[ğŸ´ó §ó ¢ó ¥ó ®ó §ó ¿]		14

```

## é—®é¢˜åˆ†æ

æŸ¥æ‰¾è¿‡æ»¤å­—ç¬¦ä¸²ï¼Œè‡ªç„¶æƒ³åˆ°çš„æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œ

é¦–å…ˆæ˜¯æŸ¥æ‰¾èµ„æ–™ï¼Œæ ¹æ®æˆ‘çš„ç»éªŒï¼Œå›½å†…çš„å¤§éƒ¨åˆ†åšå®¢åŸºæœ¬éƒ½æ˜¯ç¿»è¯‘æˆ–è€…å¤åˆ¶ç²˜è´´çš„ã€‚

æ‰€ä»¥ï¼Œæˆ‘æŸ¥æ‰¾äº†unicodeçš„å®˜æ–¹ç½‘ç«™ï¼Œhttp://www.unicode.org/reports/tr51/ã€‚

åœ¨æ­£åˆ™éƒ¨åˆ† http://www.unicode.org/reports/tr51/#EBNF_and_Regex
 
æ‰¾åˆ°äº†ç›¸å…³å†…å®¹ï¼š

```
  \p{RI} \p{RI}
| \p{Emoji} 
  ( \p{EMod} 
    | \x{FE0F} \x{20E3}? 
    | [\x{E0020}-\x{E007E}]+ \x{E007F} )?
  (\x{200D} \p{Emoji} 
    ( \p{EMod}
      | \x{FE0F} \x{20E3}? )?)+
```

ç„¶è€Œï¼Œjavaä¸­æ ¹æœ¬æ²¡æœ‰`p{Emoji}`è¿™ä¸ªè¡¨è¾¾å¼ã€‚

äºæ˜¯æ­£åˆ™è¿™ä¸ªæ–¹æ¡ˆæš‚æ—¶æ”¾å¼ƒäº†ã€‚

## é€šè¿‡DFAç®—æ³•æŸ¥æ‰¾
ç”±äºemojiç›®å‰æ˜¯æœ‰é™ä¸ªæ•°ï¼Œå¯ä»¥é€šè¿‡DFAç®—æ³•è¿‡æ»¤ã€‚

## Usageï¼š
```java
//Test String from                                                                                                              
//http://unicode.org/Public/emoji/latest/emoji-test.txt                                                                         
                                                                                                                                
String toFind = "# subgroup: person-activity" +                                                                                 
        "1F486                                      ; fully-qualified     # ğŸ’† person getting massage" +                         
        "1F486 1F3FB                                ; fully-qualified     # ğŸ’†ğŸ» person getting massage: light skin tone" +       
        "1F486 1F3FC                                ; fully-qualified     # ğŸ’†ğŸ¼ person getting massage: medium-light skin tone" +
        "1F486 1F3FD                                ; fully-qualified     # ğŸ’†ğŸ½ person getting massage: medium skin tone" +      
        "1F486 1F3FE                                ; fully-qualified     # ğŸ’†ğŸ¾ person getting massage: medium-dark skin tone" + 
        "1F486 1F3FF                                ; fully-qualified     # ğŸ’†ğŸ¿ person getting massage: dark skin tone " +       
        "1F486 200D 2642 FE0F                       ; fully-qualified     # ğŸ’†â€â™‚ï¸ man getting massage" +                         
        "1F486 200D 2642                            ; minimally-qualified # ğŸ’†â€â™‚ man getting massage " +                         
        "1F486 1F3FB 200D 2642 FE0F                 ; fully-qualified     # ğŸ’†ğŸ»â€â™‚ï¸ man getting massage: light skin tone" +       
        "1F486 1F3FB 200D 2642                      ; minimally-qualified # ğŸ’†ğŸ»â€â™‚ man getting massage: light skin tone " +       
        "1F486 1F3FC 200D 2642 FE0F                 ; fully-qualified     # ğŸ’†ğŸ¼â€â™‚ï¸ man getting massage: medium-light skin tone" +
        "1F486 1F3FC 200D 2642                      ; minimally-qualified # ğŸ’†ğŸ¼â€â™‚ man getting massage: medium-light skin tone" + 
        "1F486 1F3FD 200D 2642 FE0F                 ; fully-qualified     # ğŸ’†ğŸ½â€â™‚ï¸ man getting massage: medium skin tone" +      
        "1F486 1F3FD 200D 2642                      ; minimally-qualified # ğŸ’†ğŸ½â€â™‚ man getting massage: medium skin tone" +       
        "1F486 1F3FE 200D 2642 FE0F                 ; fully-qualified     # ğŸ’†ğŸ¾â€â™‚ï¸ man getting massage: medium-dark skin tone" + 
        "1F486 1F3FE 200D 2642                      ; minimally-qualified # ğŸ’†ğŸ¾â€â™‚ man getting massage: medium-dark skin tone " + 
        "1F486 1F3FF 200D 2642 FE0F                 ; fully-qualified     # ğŸ’†ğŸ¿â€â™‚ï¸ man getting massage: dark skin tone " +       
        "1F486 1F3FF 200D 2642                      ; minimally-qualified # ğŸ’†ğŸ¿â€â™‚ man getting massage: dark skin tone";          
                                                                                                                                
long start = System.currentTimeMillis();                                                                                        
                                                                                                                                
ArrayList<EmojiBean> findResult = EmojiFinder.getInstance().find(toFind);                                                       
                                                                                                                                
System.out.println("Use Time: " + (System.currentTimeMillis() - start) + ", Find Count : " + findResult.size());                
System.out.println("Find Result : " + findResult);                                                                                                          
```

```
http://www.unicode.org/Public/emoji/12.0/emoji-test.txt
# Status Counts
# fully-qualified : 3010
# minimally-qualified : 571
# unqualified : 246
# component : 9
Emojiæ€»å…±3836ä¸ª
```



